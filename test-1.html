<html>
<head>
	<title>模拟选择器函数</title>
	<meta  charset=utf-8 />
</head>
<style>
</style>
<body>

<div id="test"></div>
<div class="test">
	TEST TEST
</div>
<div class="test">
	TEST TEST
</div>
<div class="test">
	TEST TEST
</div>
<div class="test">
	TEST TEST
</div>
<p>TEST</p><p>TEST</p><p>TEST</p><p>TEST</p><p>TEST</p>

<script type="text/javascript">
var query = function(selector){
	var idReg = /^#\w+/ ,classReg = /^\.\w+/,tagReg = /\w+/,elems = [], elem ; 
	if(idReg.test(selector)){
		elem = document.getElementById(selector.substring(1));
		return elem;
	}

	if(classReg.test(selector)){
		var allelems = document.getElementsByTagName("*"),
			className = selector.substring(1);
		for(var i = 0;i < allelems.length; i++){
			var item = allelems[i];
			if(item.hasAttribute("class")){
				var classNames = item.getAttribute("class");
				classNames = classNames.split(" ");
				for(var j = 0 ,len = classNames.length ; j < len;j++ ){
					if(classNames[j] == className){
						elems.push(item);
						break;
					}
				}
			}
		}
		return elems;
	}

	if(tagReg.test(selector)){
		elems = document.getElementsByTagName(selector);
		return elems;
	}

	
}
console.log(query("#test"));
console.log(query(".test"));
console.log(query("p"));
</script>
</body>
</html>